import{r as T,b as f,d as $,e as J,o as l,c as u,a as c,t as E,u as v,f as p,g as N,w as A,n as K,_ as q,h,i as ee,j as te,F as H,k as j,l as B,m as S}from"./index-118eadbb.js";const ne="/vue-craps/assets/puck-off-a835fb57.svg",ae="/vue-craps/assets/puck-on-4b8d7a7e.svg";var G=(e=>(e[e.Standard=0]="Standard",e[e.Crapless=1]="Crapless",e))(G||{});const le={4:3,5:4,6:5,8:5,9:4,10:3},se=function(e,s=G.Standard){let t={4:e,5:e,6:e,8:e,9:e,10:e};return s&&(t={2:e,3:e,...t,11:e,12:e}),t},I=T({puck_location:4,table:{isCrapless:G.Standard,maxOdds:le,bet_min:5},existing_bets:[]});function Q(){return f([1,5,25,100,500])}const re=["fill"],ce={lang:"en"},ue={key:0},oe=["fill"],ie=c("path",{d:`M244.63,35.621c-21.771-18.635-47.382-29.855-73.767-33.902C121.871-5.797,70.223,11.421,35.622,
              51.847c-53.236,62.198-45.972,155.773,16.226,209.01c21.771,18.634,47.381,29.853,73.766,33.901
           c48.991,7.517,100.641-9.703,135.241-50.13C314.091,182.431,306.826,88.856,244.63,35.621z
           M273.361,191.241l-45.305-15.618
           c6.102-17.803,6.028-37.107,0.014-54.724l45.257-15.575c3.577,10.453,5.862,21.429,6.74,32.741
           C281.489,156.374,279.152,174.388,273.361,191.241z
           M275.905,104.058c0-0.003,0-0.005,0-0.008
           C275.905,104.053,275.905,104.055,275.905,104.058z
           M247.935,61.472l-36.069,31.332c-2.669-3.055-5.579-5.961-8.752-8.677
           c-11.467-9.814-24.81-15.995-38.637-18.692l9.095-46.741c22.33,4.33,43.21,14.294,60.635,29.209
           C239.147,52.131,243.728,56.669,247.935,61.472z
           M103.251,23.983c6.428-2.315,13.021-4.109,19.71-5.388l9.087,46.843
           c-17.789,3.467-34.584,12.651-47.393,27.341L48.55,61.38C63.334,44.416,82.206,31.568,103.251,23.983z
           M23.124,105.236
           l45.297,15.617c-6.102,17.803-6.028,37.105-0.015,54.723l-45.295,
           15.588c-3.562-10.441-5.837-21.4-6.713-32.688
           C14.976,140.151,17.32,122.11,23.124,105.236z
           M48.467,235.066l36.145-31.395c2.669,3.056,5.58,5.964,8.754,8.68
           c11.466,9.814,24.808,15.993,38.634,18.691l-9.143,46.997c-22.325-4.348-43.185-14.422-60.604-29.333
           C57.288,244.458,52.689,239.898,48.467,235.066z
           M193.203,272.635c-6.409,2.309-12.986,4.11-19.658,5.403l-9.117-47
           c17.789-3.467,34.585-12.651,47.394-27.342l36.121,31.409C233.154,252.087,214.257,265.047,193.203,
           272.635z`},null,-1),de=["fill"],Y=$({__name:"GamingChip",props:{chipValue:{type:Number,required:!0}},setup(e){const s=e,t=J({get(){switch(Math.max.apply(null,Q().value.filter(a=>a<=s.chipValue))){case 1:default:return{background:"azure",foreground:"blue"};case 5:return{background:"firebrick",foreground:"white"};case 25:return{background:"forestgreen",foreground:"white"};case 100:return{background:"black",foreground:"white"};case 500:return{background:"indigo",foreground:"white"}}},set(a){}});return(a,i)=>(l(),u("svg",{fill:v(t).background,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 296.477 296.477","xml:space":"preserve",height:"50"},[c("title",ce,"Chip Value "+E(e.chipValue),1),e.chipValue?(l(),u("g",ue,[c("circle",{cx:"148.2385",cy:"148.2385",r:"148.2385",fill:v(t).foreground},null,8,oe),ie,c("text",{x:"50%",y:"50%","text-anchor":"middle",fill:v(t).foreground,style:{font:"bold 5em sans-serif"},dy:".35em"},E(e.chipValue),9,de)])):p("",!0)],8,re))}}),me=$({__name:"BetBoxNew",props:{modelValue:{type:Object,required:!0},increment:{type:Number,default:1}},emits:["update:modelValue"],setup(e,{emit:s}){const t=e,a=J({get(){return t.modelValue},set(g){return s("update:modelValue",g)}}),i=()=>{if(!a.value.canIncrease())return;const g=I.table.bet_min;a.value.wager=Math.max(g,a.value.wager+t.increment)},m=()=>{"odds"in a.value&&(a.value.odds=Math.min(a.value.maxOdds(),a.value.odds+t.increment))},V=()=>{a.value.wager=Math.max(0,a.value.wager-t.increment);const g=I.table.bet_min;g&&a.value.wager<g&&(a.value.wager=0),"odds"in a.value&&(a.value.odds=Math.min(a.value.maxOdds(),a.value.odds))},k=()=>{"odds"in a.value&&(a.value.odds=Math.max(0,a.value.odds-t.increment))};return(g,_)=>(l(),u("div",{class:K(["bet-box",v(a).getOptions().hasOdds?"withOdds":"withoutOdds"])},["wager"in v(a)?(l(),N(Y,{key:0,onClick:A(i,["prevent"]),onContextmenu:A(V,["prevent"]),class:"wager","chip-value":v(a).wager},null,8,["onClick","onContextmenu","chip-value"])):p("",!0),"odds"in v(a)?(l(),N(Y,{key:1,onClick:A(m,["prevent"]),onContextmenu:A(k,["prevent"]),class:"wager odds","chip-value":v(a).odds},null,8,["onClick","onContextmenu","chip-value"])):p("",!0)],2))}});const R=q(me,[["__scopeId","data-v-41269a68"]]);var n=(e=>(e.ANY_CRAPS="AnyCraps",e.ANY_SEVEN="AnySeven",e.BUY="Buy",e.C_AND_E="CE",e.COME="Come",e.CRAPS_3_WAY="Craps3Way",e.DONT_COME="DontCome",e.DONT_PASS="DontPass",e.FIELD="Field",e.HARDWAY="Hardway",e.HOP="Hop",e.HORN="Horn",e.HORN_HIGH="HornHigh",e.LAY="Lay",e.PASS_LINE="PassLine",e.PLACE="Place",e.PUT="Put",e.WORLD="World",e))(n||{});const pe={2:6,3:3,4:2,5:3/2,6:6/5,8:6/5,9:3/2,10:2,11:3,12:6},X={[n.ANY_CRAPS]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.ANY_SEVEN]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.BUY]:{hasOdds:!1,allowOverride:!0,hasPlacement:!0,hasVig:!0},[n.C_AND_E]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.COME]:{hasOdds:!0,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.CRAPS_3_WAY]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.DONT_COME]:{hasOdds:!0,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.DONT_PASS]:{hasOdds:!0,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.FIELD]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.HARDWAY]:{hasOdds:!1,allowOverride:!0,hasPlacement:!0,hasVig:!1},[n.HOP]:{hasOdds:!1,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.HORN]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.HORN_HIGH]:{hasOdds:!1,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.LAY]:{hasOdds:!1,allowOverride:!1,hasPlacement:!0,hasVig:!0},[n.PASS_LINE]:{hasOdds:!0,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.PLACE]:{hasOdds:!1,allowOverride:!0,hasPlacement:!0,hasVig:!1},[n.PUT]:{hasOdds:!0,allowOverride:!0,hasPlacement:!0,hasVig:!1},[n.WORLD]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1}},d=function(){return X[this.type]},Z=function(){if(this.placement!==void 0&&this.wager!==void 0){const e=this.placement,a=I.table.maxOdds[e],i=this.wager;return Math.floor(a*i)}return 0},fe=function(){if(typeof this.placement!="number"||this.wager===void 0)return 0;const e=Z.bind(this)();console.log(e);const s=pe[this.placement];return Math.floor(e*s)},L={[n.ANY_CRAPS]:{getOptions:d,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.ANY_SEVEN]:{getOptions:d,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.BUY]:{getOptions:d,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.C_AND_E]:{getOptions:d,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.COME]:{getOptions:d,canIncrease(){return!0},canDecrease(){return this.placement===null},canRemove(){return this.placement===null}},[n.CRAPS_3_WAY]:{getOptions:d,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.DONT_COME]:{getOptions:d,canIncrease(){return this.placement===null},canDecrease(){return!0},canRemove(){return!0}},[n.DONT_PASS]:{getOptions:d,canIncrease(){return this.placement===null},canDecrease(){return!0},canRemove(){return!0}},[n.FIELD]:{getOptions:d,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.HARDWAY]:{getOptions:d,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.HOP]:{getOptions:d,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.HORN]:{getOptions:d,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.HORN_HIGH]:{getOptions:d,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.LAY]:{getOptions:d,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.PASS_LINE]:{getOptions:d,canIncrease(){return!0},canDecrease(){return this.placement===null},canRemove(){return this.placement===null}},[n.PLACE]:{getOptions:d,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.PUT]:{getOptions:d,canIncrease(){return!0},canDecrease(){return this.placement===null},canRemove(){return this.placement===null}},[n.WORLD]:{getOptions:d,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}}};function M(e,s,t=null){const a=e.filter(i=>i.type===s);return X[s].hasPlacement?a.filter(i=>"placement"in i&&i.placement===t).pop():a.pop()}const he={class:"CrapsBox"},ve={class:"name-box full-box"},ge={class:"puckBox"},_e={key:0,alt:"ON",class:"puck",src:ae},Oe=$({__name:"CrapsBox",props:{boxNumber:{type:Number,required:!0},maxOdds:{type:Number,default:0},minBet:{type:Number,default:0},increment:{type:Number,default:1},buyAllowed:{type:Boolean,default:!1},initialBets:{type:Array,default(){return[]}}},setup(e,{expose:s}){const t=e,a=function(){let w=[];return O.value.wager&&w.push(O.value),r.value.wager&&w.push(r.value),o.value.wager&&w.push(o.value),x.value.wager&&w.push(x.value),P.value.wager&&w.push(P.value),w},i={type:n.DONT_COME,...L[n.DONT_COME],maxOdds:fe,wager:0,odds:0,placement:t.boxNumber},m={type:n.LAY,...L[n.LAY],wager:0,placement:t.boxNumber},V={type:n.COME,...L[n.COME],maxOdds:Z,wager:0,odds:0,placement:t.boxNumber},k={type:n.PLACE,...L[n.PLACE],wager:0,placement:t.boxNumber,override_puck:null},g={type:n.BUY,...L[n.BUY],wager:0,placement:t.boxNumber,override_puck:null},_=M(t.initialBets,n.DONT_COME,t.boxNumber)??{},C=M(t.initialBets,n.LAY,t.boxNumber)??{},U=M(t.initialBets,n.COME,t.boxNumber)??{},W=M(t.initialBets,n.PLACE,t.boxNumber)??{},z=M(t.initialBets,n.BUY,t.boxNumber)??{},P=f(Object.assign(i,_)),x=f(Object.assign(m,C)),o=f(Object.assign(V,U)),r=f(Object.assign(k,W)),O=f(Object.assign(g,z));return s({getBets:a}),(w,b)=>(l(),u("div",he,[h(R,{modelValue:P.value,"onUpdate:modelValue":b[0]||(b[0]=y=>P.value=y),increment:e.increment,class:"full-box"},null,8,["modelValue","increment"]),h(R,{modelValue:x.value,"onUpdate:modelValue":b[1]||(b[1]=y=>x.value=y),increment:e.increment,class:"full-box"},null,8,["modelValue","increment"]),c("div",ve,[c("p",{class:K([6,9].includes(e.boxNumber)?"name":"number")},E(e.boxNumber===6?"Six":e.boxNumber===9?"Nine":e.boxNumber),3),c("div",ge,[v(I).puck_location===t.boxNumber?(l(),u("img",_e)):p("",!0)])]),h(R,{modelValue:o.value,"onUpdate:modelValue":b[2]||(b[2]=y=>o.value=y),increment:e.increment,class:"full-box"},null,8,["modelValue","increment"]),h(R,{modelValue:r.value,"onUpdate:modelValue":b[3]||(b[3]=y=>r.value=y),increment:e.increment,class:"half-box"},null,8,["modelValue","increment"]),e.buyAllowed?(l(),N(R,{key:0,modelValue:O.value,"onUpdate:modelValue":b[4]||(b[4]=y=>O.value=y),increment:e.increment,class:"half-box"},null,8,["modelValue","increment"])):p("",!0)]))}});const xe=q(Oe,[["__scopeId","data-v-61682880"]]);const be=["onClick","onContextmenu"],we={key:0,class:"name"},ye={__name:"BetBox",props:{modelValue:{type:Number,default:0},max:{type:Number,default:1/0},min:{type:Number,default:0},increment:{type:Number,default:1},locked:{type:Boolean,default:!1},noDecrease:{type:Boolean,default:!1},noIncrease:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:s}){const t=e,a=()=>{t.locked||t.noIncrease||s("update:modelValue",Math.min(t.max,Math.max(t.min,t.modelValue+t.increment)))},i=()=>{if(t.locked||t.noDecrease)return;let m=Math.max(0,t.modelValue-t.increment);t.min&&m<t.min&&(m=0),s("update:modelValue",m)};return ee(()=>t.max,m=>{m<t.modelValue&&s("update:modelValue",Math.min(m.valueOf(),t.modelValue))}),(m,V)=>(l(),u("div",{class:"bet-box",onClick:A(a,["prevent"]),onContextmenu:A(i,["prevent"])},[m.$slots.default?(l(),u("span",we,[te(m.$slots,"default",{},void 0,!0)])):p("",!0),e.modelValue?(l(),N(Y,{key:1,class:"wager","chip-value":e.modelValue},null,8,["chip-value"])):p("",!0)],40,be))}},D=q(ye,[["__scopeId","data-v-ccc9c2c3"]]),Ce={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},Ve={lang:"en"},Ne=["fill"],ke=["stroke"],Pe={key:0,name:"cc",r:"10",cx:"50",cy:"50",fill:"white"},De={key:1,name:"tr",r:"10",cx:"75",cy:"25",fill:"white"},Ae={key:2,name:"bl",r:"10",cx:"25",cy:"75",fill:"white"},Be={key:3,name:"ul",r:"10",cx:"25",cy:"25",fill:"white"},Se={key:4,name:"br",r:"10",cx:"75",cy:"75",fill:"white"},Re={key:5,name:"cl",r:"10",cx:"25",cy:"50",fill:"white"},Le={key:6,name:"rr",r:"10",cx:"75",cy:"50",fill:"white"},Me=$({__name:"CrapsDie",props:{pips:{type:Number,required:!0},color:{type:String,default:"red"}},setup(e){return(s,t)=>(l(),u("svg",Ce,[c("title",Ve,"Die: "+E(e.pips)+" Pips",1),c("g",null,[c("rect",{height:"90",width:"90",x:"5",y:"5",fill:e.color,"fill-opacity":".6"},null,8,Ne),c("rect",{height:"90",width:"90",x:"5",y:"5",stroke:e.color,"fill-opacity":"0"},null,8,ke),[1,3,5].includes(e.pips)?(l(),u("circle",Pe)):p("",!0),[2,3,4,5,6].includes(e.pips)?(l(),u("circle",De)):p("",!0),[2,3,4,5,6].includes(e.pips)?(l(),u("circle",Ae)):p("",!0),[4,5,6].includes(e.pips)?(l(),u("circle",Be)):p("",!0),[4,5,6].includes(e.pips)?(l(),u("circle",Se)):p("",!0),[6].includes(e.pips)?(l(),u("circle",Re)):p("",!0),[6].includes(e.pips)?(l(),u("circle",Le)):p("",!0)])]))}}),F=$({__name:"CrapsDice",props:{diceSet:{type:Array,required:!0},color:{type:String,default:"red"},size:{type:String,default:"50px"}},setup(e){return(s,t)=>(l(),u("div",null,[(l(!0),u(H,null,j(e.diceSet,(a,i)=>(l(),N(Me,{key:i,pips:a,color:e.color,height:e.size},null,8,["pips","color","height"]))),128))]))}});const Ee={class:"crapsTable"},Ie={class:"dont-come"},$e=c("span",null,"Don't",-1),He=c("span",null,"Come",-1),Ye=c("span",null,"Bar",-1),Ue={class:"puckBox"},We={key:0,src:ne,alt:"OFF",class:"puck"},ze=c("div",{class:"props-box"},null,-1),Fe={class:"props-box"},je={class:"self-serve"},qe={class:"bet-select"},Je={__name:"CrapsView",setup(e){const s=f([]),t=f(0),a=f(0),i=f(0),m=f(0),V=f(0),k=f(0),g=Q(),_=f(1),C=5,U={maxOdds:se(2)},W=JSON.parse('{"new_table":{"config":{},"puck_location":4,"existing_bets":[{"type":"PassLine","wager":5,"placement":4},{"type":"DontCome","wager":5,"placement":6,"odds":10},{"type":"Place","wager":5,"placement":4},{"type":"Place","wager":5,"placement":5},{"type":"Place","wager":6,"placement":6,"override_puck":"OFF"},{"type":"Place","wager":6,"placement":8},{"type":"Place","wager":5,"placement":9},{"type":"Place","wager":5,"placement":10},{"type":"Hop","wager":1,"placement":[1,3]},{"type":"AnySeven","wager":1}]}}'),z=function(x){_.value=x},P=function(){let x=[];for(const o in s.value)x.push(...s.value[o].getBets());console.log(x)};return(x,o)=>(l(),u(H,null,[c("div",Ee,[(l(!0),u(H,null,j(U.maxOdds,(r,O)=>(l(),N(xe,{key:O,increment:_.value,"max-odds":r,"min-bet":[6,8].includes(Number(O))?C/5*6:C,"box-number":Number(O),"buy-allowed":[4,10].includes(Number(O)),"initial-bets":v(W).new_table.existing_bets.filter(w=>w.placement===Number(O)),ref_for:!0,ref_key:"boxes",ref:s},null,8,["increment","max-odds","min-bet","box-number","buy-allowed","initial-bets"]))),128)),c("div",Ie,[$e,He,Ye,h(F,{"dice-set":[6,6],size:"30px",display:"inline-block"}),c("div",Ue,[v(I).puck_location===null?(l(),u("img",We)):p("",!0)])]),ze,c("div",Fe,[h(F,{"dice-set":[6,6],size:"50px"})]),c("div",je,[h(D,{increment:_.value,modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=r=>t.value=r),min:C,style:{"grid-column":"col / span 2"},name:"comeLine"},{default:B(()=>[S("Come")]),_:1},8,["increment","modelValue"]),h(D,{increment:_.value,modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=r=>a.value=r),min:C,style:{"grid-column":"col / span 2"},name:"fieldLine"},{default:B(()=>[S("Field")]),_:1},8,["increment","modelValue"]),h(D,{increment:_.value,modelValue:i.value,"onUpdate:modelValue":o[2]||(o[2]=r=>i.value=r),min:C,name:"dontLine",style:{}},{default:B(()=>[S("Don't Pass Bar "),h(F,{"dice-set":[6,6],size:"20px",display:"inline-block"})]),_:1},8,["increment","modelValue"]),h(D,{increment:_.value,modelValue:m.value,"onUpdate:modelValue":o[3]||(o[3]=r=>m.value=r),name:"dontLineOdds",locked:""},null,8,["increment","modelValue"]),h(D,{increment:_.value,modelValue:V.value,"onUpdate:modelValue":o[4]||(o[4]=r=>V.value=r),min:C,name:"passLine"},{default:B(()=>[S("Pass")]),_:1},8,["increment","modelValue"]),h(D,{increment:_.value,modelValue:k.value,"onUpdate:modelValue":o[5]||(o[5]=r=>k.value=r),name:"passLineOdds",locked:""},null,8,["increment","modelValue"])])]),c("ul",qe,[(l(!0),u(H,null,j(v(g),r=>(l(),N(Y,{key:r,onClick:O=>z(r),"chip-value":r,height:"50px"},{default:B(()=>[S(E(r),1)]),_:2},1032,["onClick","chip-value"]))),128))]),c("button",{onClick:P},"Test")],64))}};export{Je as default};
