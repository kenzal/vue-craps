import{r as te,b as v,d as k,e as G,o as s,c as r,a as o,t as E,u as _,f,g as N,w as B,n as K,_ as Y,h as p,i as ne,j as ae,F as R,k as W,p as Q,l as X,m as S,q as I}from"./index-afd07b5a.js";const se="/vue-craps/assets/puck-off-a835fb57.svg",le="/vue-craps/assets/puck-on-4b8d7a7e.svg";var J=(e=>(e[e.Standard=0]="Standard",e[e.Crapless=1]="Crapless",e))(J||{});const re={4:3,5:4,6:5,8:5,9:4,10:3},ce=function(e,l=J.Standard){let t={4:e,5:e,6:e,8:e,9:e,10:e};return l&&(t={2:e,3:e,...t,11:e,12:e}),t},H=te({puck_location:4,table:{isCrapless:J.Standard,maxOdds:re,bet_min:5},existing_bets:[]});function Z(){return v([1,5,25,100,500])}const oe=["fill"],ue={lang:"en"},ie={key:0},de=["fill"],me=o("path",{d:`M244.63,35.621c-21.771-18.635-47.382-29.855-73.767-33.902C121.871-5.797,70.223,11.421,35.622,
              51.847c-53.236,62.198-45.972,155.773,16.226,209.01c21.771,18.634,47.381,29.853,73.766,33.901
           c48.991,7.517,100.641-9.703,135.241-50.13C314.091,182.431,306.826,88.856,244.63,35.621z
           M273.361,191.241l-45.305-15.618
           c6.102-17.803,6.028-37.107,0.014-54.724l45.257-15.575c3.577,10.453,5.862,21.429,6.74,32.741
           C281.489,156.374,279.152,174.388,273.361,191.241z
           M275.905,104.058c0-0.003,0-0.005,0-0.008
           C275.905,104.053,275.905,104.055,275.905,104.058z
           M247.935,61.472l-36.069,31.332c-2.669-3.055-5.579-5.961-8.752-8.677
           c-11.467-9.814-24.81-15.995-38.637-18.692l9.095-46.741c22.33,4.33,43.21,14.294,60.635,29.209
           C239.147,52.131,243.728,56.669,247.935,61.472z
           M103.251,23.983c6.428-2.315,13.021-4.109,19.71-5.388l9.087,46.843
           c-17.789,3.467-34.584,12.651-47.393,27.341L48.55,61.38C63.334,44.416,82.206,31.568,103.251,23.983z
           M23.124,105.236
           l45.297,15.617c-6.102,17.803-6.028,37.105-0.015,54.723l-45.295,
           15.588c-3.562-10.441-5.837-21.4-6.713-32.688
           C14.976,140.151,17.32,122.11,23.124,105.236z
           M48.467,235.066l36.145-31.395c2.669,3.056,5.58,5.964,8.754,8.68
           c11.466,9.814,24.808,15.993,38.634,18.691l-9.143,46.997c-22.325-4.348-43.185-14.422-60.604-29.333
           C57.288,244.458,52.689,239.898,48.467,235.066z
           M193.203,272.635c-6.409,2.309-12.986,4.11-19.658,5.403l-9.117-47
           c17.789-3.467,34.585-12.651,47.394-27.342l36.121,31.409C233.154,252.087,214.257,265.047,193.203,
           272.635z`},null,-1),pe=["fill"],fe={key:0,cx:"148.2385",cy:"148.2385",r:"148.2385",stroke:"gold","stroke-width":"10px","fill-opacity":"0"},z=k({__name:"GamingChip",props:{value:{type:Number,required:!0},selected:{type:Boolean,default:!1}},setup(e){const l=e,t=G({get(){switch(Math.max.apply(null,Z().value.filter(a=>a<=l.value))){case 1:default:return{background:"azure",foreground:"blue"};case 5:return{background:"firebrick",foreground:"white"};case 25:return{background:"forestgreen",foreground:"white"};case 100:return{background:"black",foreground:"white"};case 500:return{background:"indigo",foreground:"white"}}},set(a){}});return(a,u)=>(s(),r("svg",{fill:_(t).background,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 296.477 296.477","xml:space":"preserve",height:"50"},[o("title",ue,"Chip Value "+E(e.value),1),e.value?(s(),r("g",ie,[o("circle",{cx:"148.2385",cy:"148.2385",r:"148.2385",fill:_(t).foreground},null,8,de),me,o("text",{x:"50%",y:"50%","text-anchor":"middle",fill:_(t).foreground,style:{font:"bold 5em sans-serif"},dy:".35em"},E(e.value),9,pe),e.selected?(s(),r("circle",fe)):f("",!0)])):f("",!0)],8,oe))}}),ve=k({__name:"BetBoxNew",props:{modelValue:{type:Object,required:!0},increment:{type:Number,default:1}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,a=G({get(){return t.modelValue},set(g){return l("update:modelValue",g)}}),u=()=>{if(!a.value.canIncrease())return;const g=H.table.bet_min;a.value.wager=Math.max(g,a.value.wager+t.increment)},d=()=>{"odds"in a.value&&(a.value.odds=Math.min(a.value.maxOdds(),a.value.odds+t.increment))},V=()=>{a.value.wager=Math.max(0,a.value.wager-t.increment);const g=H.table.bet_min;g&&a.value.wager<g&&(a.value.wager=0),"odds"in a.value&&(a.value.odds=Math.min(a.value.maxOdds(),a.value.odds))},P=()=>{"odds"in a.value&&(a.value.odds=Math.max(0,a.value.odds-t.increment))};return(g,h)=>(s(),r("div",{class:K(["bet-box",_(a).getOptions().hasOdds?"withOdds":"withoutOdds"])},["wager"in _(a)?(s(),N(z,{key:0,onClick:B(u,["prevent"]),onContextmenu:B(V,["prevent"]),class:"wager",value:_(a).wager},null,8,["onClick","onContextmenu","value"])):f("",!0),"odds"in _(a)?(s(),N(z,{key:1,onClick:B(d,["prevent"]),onContextmenu:B(P,["prevent"]),class:"wager odds",value:_(a).odds},null,8,["onClick","onContextmenu","value"])):f("",!0)],2))}});const $=Y(ve,[["__scopeId","data-v-8dbcc302"]]);var n=(e=>(e.ANY_CRAPS="AnyCraps",e.ANY_SEVEN="AnySeven",e.BUY="Buy",e.C_AND_E="CE",e.COME="Come",e.CRAPS_3_WAY="Craps3Way",e.DONT_COME="DontCome",e.DONT_PASS="DontPass",e.FIELD="Field",e.HARDWAY="Hardway",e.HOP="Hop",e.HORN="Horn",e.HORN_HIGH="HornHigh",e.LAY="Lay",e.PASS_LINE="PassLine",e.PLACE="Place",e.PUT="Put",e.WORLD="World",e))(n||{});const _e={2:6,3:3,4:2,5:3/2,6:6/5,8:6/5,9:3/2,10:2,11:3,12:6},T={[n.ANY_CRAPS]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.ANY_SEVEN]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.BUY]:{hasOdds:!1,allowOverride:!0,hasPlacement:!0,hasVig:!0},[n.C_AND_E]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.COME]:{hasOdds:!0,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.CRAPS_3_WAY]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.DONT_COME]:{hasOdds:!0,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.DONT_PASS]:{hasOdds:!0,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.FIELD]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.HARDWAY]:{hasOdds:!1,allowOverride:!0,hasPlacement:!0,hasVig:!1},[n.HOP]:{hasOdds:!1,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.HORN]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.HORN_HIGH]:{hasOdds:!1,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.LAY]:{hasOdds:!1,allowOverride:!1,hasPlacement:!0,hasVig:!0},[n.PASS_LINE]:{hasOdds:!0,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.PLACE]:{hasOdds:!1,allowOverride:!0,hasPlacement:!0,hasVig:!1},[n.PUT]:{hasOdds:!0,allowOverride:!0,hasPlacement:!0,hasVig:!1},[n.WORLD]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1}},m=function(){return T[this.type]},ee=function(){if(this.placement!==void 0&&this.wager!==void 0){const e=this.placement,a=H.table.maxOdds[e],u=this.wager;return Math.floor(a*u)}return 0},he=function(){if(typeof this.placement!="number"||this.wager===void 0)return 0;const e=ee.bind(this)();console.log(e);const l=_e[this.placement];return Math.floor(e*l)},L={[n.ANY_CRAPS]:{getOptions:m,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.ANY_SEVEN]:{getOptions:m,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.BUY]:{getOptions:m,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.C_AND_E]:{getOptions:m,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.COME]:{getOptions:m,canIncrease(){return!0},canDecrease(){return this.placement===null},canRemove(){return this.placement===null}},[n.CRAPS_3_WAY]:{getOptions:m,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.DONT_COME]:{getOptions:m,canIncrease(){return this.placement===null},canDecrease(){return!0},canRemove(){return!0}},[n.DONT_PASS]:{getOptions:m,canIncrease(){return this.placement===null},canDecrease(){return!0},canRemove(){return!0}},[n.FIELD]:{getOptions:m,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.HARDWAY]:{getOptions:m,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.HOP]:{getOptions:m,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.HORN]:{getOptions:m,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.HORN_HIGH]:{getOptions:m,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.LAY]:{getOptions:m,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.PASS_LINE]:{getOptions:m,canIncrease(){return!0},canDecrease(){return this.placement===null},canRemove(){return this.placement===null}},[n.PLACE]:{getOptions:m,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.PUT]:{getOptions:m,canIncrease(){return!0},canDecrease(){return this.placement===null},canRemove(){return this.placement===null}},[n.WORLD]:{getOptions:m,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}}};function M(e,l,t=null){const a=e.filter(u=>u.type===l);return T[l].hasPlacement?a.filter(u=>"placement"in u&&u.placement===t).pop():a.pop()}const ge={class:"CrapsBox"},Oe={class:"name-box full-box"},xe={class:"puckBox"},be={key:0,alt:"ON",class:"puck",src:le},ye=k({__name:"CrapsBox",props:{boxNumber:{type:Number,required:!0},maxOdds:{type:Number,default:0},minBet:{type:Number,default:0},increment:{type:Number,default:1},buyAllowed:{type:Boolean,default:!1},initialBets:{type:Array,default(){return[]}}},setup(e,{expose:l}){const t=e,a=function(){let y=[];return O.value.wager&&y.push(O.value),c.value.wager&&y.push(c.value),i.value.wager&&y.push(i.value),x.value.wager&&y.push(x.value),D.value.wager&&y.push(D.value),y},u={type:n.DONT_COME,...L[n.DONT_COME],maxOdds:he,wager:0,odds:0,placement:t.boxNumber},d={type:n.LAY,...L[n.LAY],wager:0,placement:t.boxNumber},V={type:n.COME,...L[n.COME],maxOdds:ee,wager:0,odds:0,placement:t.boxNumber},P={type:n.PLACE,...L[n.PLACE],wager:0,placement:t.boxNumber,override_puck:null},g={type:n.BUY,...L[n.BUY],wager:0,placement:t.boxNumber,override_puck:null},h=M(t.initialBets,n.DONT_COME,t.boxNumber)??{},C=M(t.initialBets,n.LAY,t.boxNumber)??{},F=M(t.initialBets,n.COME,t.boxNumber)??{},j=M(t.initialBets,n.PLACE,t.boxNumber)??{},q=M(t.initialBets,n.BUY,t.boxNumber)??{},D=v(Object.assign(u,h)),x=v(Object.assign(d,C)),i=v(Object.assign(V,F)),c=v(Object.assign(P,j)),O=v(Object.assign(g,q));return l({getBets:a}),(y,b)=>(s(),r("div",ge,[p($,{modelValue:D.value,"onUpdate:modelValue":b[0]||(b[0]=w=>D.value=w),increment:e.increment,class:"full-box"},null,8,["modelValue","increment"]),p($,{modelValue:x.value,"onUpdate:modelValue":b[1]||(b[1]=w=>x.value=w),increment:e.increment,class:"full-box"},null,8,["modelValue","increment"]),o("div",Oe,[o("p",{class:K([6,9].includes(e.boxNumber)?"name":"number")},E(e.boxNumber===6?"Six":e.boxNumber===9?"Nine":e.boxNumber),3),o("div",xe,[_(H).puck_location===t.boxNumber?(s(),r("img",be)):f("",!0)])]),p($,{modelValue:i.value,"onUpdate:modelValue":b[2]||(b[2]=w=>i.value=w),increment:e.increment,class:"full-box"},null,8,["modelValue","increment"]),p($,{modelValue:c.value,"onUpdate:modelValue":b[3]||(b[3]=w=>c.value=w),increment:e.increment,class:"half-box"},null,8,["modelValue","increment"]),e.buyAllowed?(s(),N($,{key:0,modelValue:O.value,"onUpdate:modelValue":b[4]||(b[4]=w=>O.value=w),increment:e.increment,class:"half-box"},null,8,["modelValue","increment"])):f("",!0)]))}});const we=Y(ye,[["__scopeId","data-v-61682880"]]);const Ce=["onClick","onContextmenu"],Ve={key:0,class:"name"},Ne={__name:"BetBox",props:{modelValue:{type:Number,default:0},max:{type:Number,default:1/0},min:{type:Number,default:0},increment:{type:Number,default:1},locked:{type:Boolean,default:!1},noDecrease:{type:Boolean,default:!1},noIncrease:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,a=()=>{t.locked||t.noIncrease||l("update:modelValue",Math.min(t.max,Math.max(t.min,t.modelValue+t.increment)))},u=()=>{if(t.locked||t.noDecrease)return;let d=Math.max(0,t.modelValue-t.increment);t.min&&d<t.min&&(d=0),l("update:modelValue",d)};return ne(()=>t.max,d=>{d<t.modelValue&&l("update:modelValue",Math.min(d.valueOf(),t.modelValue))}),(d,V)=>(s(),r("div",{class:"bet-box",onClick:B(a,["prevent"]),onContextmenu:B(u,["prevent"])},[d.$slots.default?(s(),r("span",Ve,[ae(d.$slots,"default",{},void 0,!0)])):f("",!0),e.modelValue?(s(),N(z,{key:1,class:"wager",value:e.modelValue},null,8,["value"])):f("",!0)],40,Ce))}},A=Y(Ne,[["__scopeId","data-v-4d878268"]]),ke={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},Pe={lang:"en"},De=["fill"],Ae=["stroke"],Be={key:0,name:"cc",r:"10",cx:"50",cy:"50",fill:"white"},Se={key:1,name:"tr",r:"10",cx:"75",cy:"25",fill:"white"},Ie={key:2,name:"bl",r:"10",cx:"25",cy:"75",fill:"white"},$e={key:3,name:"ul",r:"10",cx:"25",cy:"25",fill:"white"},Le={key:4,name:"br",r:"10",cx:"75",cy:"75",fill:"white"},Me={key:5,name:"cl",r:"10",cx:"25",cy:"50",fill:"white"},Re={key:6,name:"rr",r:"10",cx:"75",cy:"50",fill:"white"},Ee=k({__name:"CrapsDie",props:{pips:{type:Number,required:!0},color:{type:String,default:"red"}},setup(e){return(l,t)=>(s(),r("svg",ke,[o("title",Pe,"Die: "+E(e.pips)+" Pips",1),o("g",null,[o("rect",{height:"90",width:"90",x:"5",y:"5",fill:e.color,"fill-opacity":".6"},null,8,De),o("rect",{height:"90",width:"90",x:"5",y:"5",stroke:e.color,"fill-opacity":"0"},null,8,Ae),[1,3,5].includes(e.pips)?(s(),r("circle",Be)):f("",!0),[2,3,4,5,6].includes(e.pips)?(s(),r("circle",Se)):f("",!0),[2,3,4,5,6].includes(e.pips)?(s(),r("circle",Ie)):f("",!0),[4,5,6].includes(e.pips)?(s(),r("circle",$e)):f("",!0),[4,5,6].includes(e.pips)?(s(),r("circle",Le)):f("",!0),[6].includes(e.pips)?(s(),r("circle",Me)):f("",!0),[6].includes(e.pips)?(s(),r("circle",Re)):f("",!0)])]))}}),U=k({__name:"CrapsDice",props:{diceSet:{type:Array,required:!0},color:{type:String,default:"red"},size:{type:String,default:"50px"}},setup(e){return(l,t)=>(s(),r("div",null,[(s(!0),r(R,null,W(e.diceSet,(a,u)=>(s(),N(Ee,{key:u,pips:a,color:e.color,height:e.size},null,8,["pips","color","height"]))),128))]))}}),He=e=>(Q("data-v-46993723"),e=e(),X(),e),Ye={class:"hardway-box"},Ue=He(()=>o("div",{class:"odds"},"S:T",-1)),We=k({__name:"HardwaysBox",props:{value:{type:Number,required:!0},selected:{type:Boolean,default:!1}},setup(e){const l=e,t=G(()=>Math.floor(l.value/2));return(a,u)=>(s(),r("div",Ye,[p(U,{"dice-set":[_(t),_(t)]},null,8,["dice-set"]),Ue]))}});const ze=Y(We,[["__scopeId","data-v-46993723"]]),Fe=e=>(Q("data-v-0f2418e4"),e=e(),X(),e),je=Fe(()=>o("div",{class:"title"},"Hardways",-1)),qe={class:"hardways-props"},Ge=k({__name:"HardwaysArea",setup(e){const l=[6,8,4,10];return(t,a)=>(s(),r("div",null,[je,o("div",qe,[(s(),r(R,null,W(l,(u,d)=>p(ze,{key:d,value:u},null,8,["value"])),64))])]))}});const Je=Y(Ge,[["__scopeId","data-v-0f2418e4"]]);const Ke={class:"crapsTable"},Qe={class:"dont-come"},Xe=o("span",null,"Don't",-1),Ze=o("span",null,"Come",-1),Te=o("span",null,"Bar",-1),et={class:"puckBox"},tt={key:0,src:se,alt:"OFF",class:"puck"},nt={class:"props-box"},at={class:"self-serve"},st={class:"bet-select"},rt={__name:"CrapsView",setup(e){const l=v([]),t=v(0),a=v(0),u=v(0),d=v(0),V=v(0),P=v(0),g=Z(),h=v(1),C=5,F={maxOdds:ce(2)},j=JSON.parse('{"new_table":{"config":{},"puck_location":4,"existing_bets":[{"type":"PassLine","wager":5,"placement":4},{"type":"DontCome","wager":5,"placement":6,"odds":10},{"type":"Place","wager":5,"placement":4},{"type":"Place","wager":5,"placement":5},{"type":"Place","wager":6,"placement":6,"override_puck":"OFF"},{"type":"Place","wager":6,"placement":8},{"type":"Place","wager":5,"placement":9},{"type":"Place","wager":5,"placement":10},{"type":"Hop","wager":1,"placement":[1,3]},{"type":"AnySeven","wager":1}]}}'),q=function(x){h.value=x},D=function(){let x=[];for(const i in l.value)x.push(...l.value[i].getBets());console.log(x)};return(x,i)=>(s(),r(R,null,[o("div",Ke,[(s(!0),r(R,null,W(F.maxOdds,(c,O)=>(s(),N(we,{key:O,increment:h.value,"max-odds":c,"min-bet":[6,8].includes(Number(O))?C/5*6:C,"box-number":Number(O),"buy-allowed":[4,10].includes(Number(O)),"initial-bets":_(j).new_table.existing_bets.filter(y=>y.placement===Number(O)),ref_for:!0,ref_key:"boxes",ref:l},null,8,["increment","max-odds","min-bet","box-number","buy-allowed","initial-bets"]))),128)),o("div",Qe,[Xe,Ze,Te,p(U,{"dice-set":[6,6],size:"30px",display:"inline-block"}),o("div",et,[_(H).puck_location===null?(s(),r("img",tt)):f("",!0)])]),p(Je,{class:"props-box"}),o("div",nt,[p(U,{"dice-set":[6,6],size:"50px"})]),o("div",at,[p(A,{increment:h.value,modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=c=>t.value=c),min:C,style:{"grid-column":"col / span 2"},name:"comeLine"},{default:S(()=>[I("Come")]),_:1},8,["increment","modelValue"]),p(A,{increment:h.value,modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=c=>a.value=c),min:C,style:{"grid-column":"col / span 2"},name:"fieldLine"},{default:S(()=>[I("Field")]),_:1},8,["increment","modelValue"]),p(A,{increment:h.value,modelValue:u.value,"onUpdate:modelValue":i[2]||(i[2]=c=>u.value=c),min:C,name:"dontLine",style:{}},{default:S(()=>[I("Don't Pass Bar "),p(U,{"dice-set":[6,6],size:"20px",display:"inline-block"})]),_:1},8,["increment","modelValue"]),p(A,{increment:h.value,modelValue:d.value,"onUpdate:modelValue":i[3]||(i[3]=c=>d.value=c),name:"dontLineOdds",locked:""},null,8,["increment","modelValue"]),p(A,{increment:h.value,modelValue:V.value,"onUpdate:modelValue":i[4]||(i[4]=c=>V.value=c),min:C,name:"passLine"},{default:S(()=>[I("Pass")]),_:1},8,["increment","modelValue"]),p(A,{increment:h.value,modelValue:P.value,"onUpdate:modelValue":i[5]||(i[5]=c=>P.value=c),name:"passLineOdds",locked:""},null,8,["increment","modelValue"])])]),o("ul",st,[(s(!0),r(R,null,W(_(g),c=>(s(),N(z,{key:c,onClick:O=>q(c),value:c,height:"50px",selected:c==h.value},{default:S(()=>[I(E(c),1)]),_:2},1032,["onClick","value","selected"]))),128))]),o("button",{onClick:D},"Test")],64))}};export{rt as default};
