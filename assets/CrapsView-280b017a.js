import{r as X,b as m,d as F,e as q,o as c,c as O,a as o,t as H,u as p,f as C,g as B,w as A,n as Z,_ as z,h,i as k,j as T,k as ee,F as W,l as G,m as R}from"./index-174564b5.js";const te="/vue-craps/assets/puck-off-a835fb57.svg",ne="/vue-craps/assets/puck-on-4b8d7a7e.svg";var j=(e=>(e[e.Standard=0]="Standard",e[e.Crapless=1]="Crapless",e))(j||{});const ae={4:3,5:4,6:5,8:5,9:4,10:3},se=function(e,l=j.Standard){let t={4:e,5:e,6:e,8:e,9:e,10:e};return l&&(t={2:e,3:e,...t,11:e,12:e}),t},I=X({puck_location:4,table:{isCrapless:j.Standard,maxOdds:ae,bet_min:5},existing_bets:[]});function J(){return m([1,5,25,100,500])}const le=["fill"],re={lang:"en"},ue={key:0},oe=["fill"],ce=o("path",{d:`M244.63,35.621c-21.771-18.635-47.382-29.855-73.767-33.902C121.871-5.797,70.223,11.421,35.622,
              51.847c-53.236,62.198-45.972,155.773,16.226,209.01c21.771,18.634,47.381,29.853,73.766,33.901
           c48.991,7.517,100.641-9.703,135.241-50.13C314.091,182.431,306.826,88.856,244.63,35.621z
           M273.361,191.241l-45.305-15.618
           c6.102-17.803,6.028-37.107,0.014-54.724l45.257-15.575c3.577,10.453,5.862,21.429,6.74,32.741
           C281.489,156.374,279.152,174.388,273.361,191.241z
           M275.905,104.058c0-0.003,0-0.005,0-0.008
           C275.905,104.053,275.905,104.055,275.905,104.058z
           M247.935,61.472l-36.069,31.332c-2.669-3.055-5.579-5.961-8.752-8.677
           c-11.467-9.814-24.81-15.995-38.637-18.692l9.095-46.741c22.33,4.33,43.21,14.294,60.635,29.209
           C239.147,52.131,243.728,56.669,247.935,61.472z
           M103.251,23.983c6.428-2.315,13.021-4.109,19.71-5.388l9.087,46.843
           c-17.789,3.467-34.584,12.651-47.393,27.341L48.55,61.38C63.334,44.416,82.206,31.568,103.251,23.983z
           M23.124,105.236
           l45.297,15.617c-6.102,17.803-6.028,37.105-0.015,54.723l-45.295,
           15.588c-3.562-10.441-5.837-21.4-6.713-32.688
           C14.976,140.151,17.32,122.11,23.124,105.236z
           M48.467,235.066l36.145-31.395c2.669,3.056,5.58,5.964,8.754,8.68
           c11.466,9.814,24.808,15.993,38.634,18.691l-9.143,46.997c-22.325-4.348-43.185-14.422-60.604-29.333
           C57.288,244.458,52.689,239.898,48.467,235.066z
           M193.203,272.635c-6.409,2.309-12.986,4.11-19.658,5.403l-9.117-47
           c17.789-3.467,34.585-12.651,47.394-27.342l36.121,31.409C233.154,252.087,214.257,265.047,193.203,
           272.635z`},null,-1),ie=["fill"],S=F({__name:"GamingChip",props:{chipValue:{type:Number,required:!0}},setup(e){const l=e,t=q({get(){switch(Math.max.apply(null,J().value.filter(a=>a<=l.chipValue))){case 1:default:return{background:"azure",foreground:"blue"};case 5:return{background:"firebrick",foreground:"white"};case 25:return{background:"forestgreen",foreground:"white"};case 100:return{background:"black",foreground:"white"};case 500:return{background:"indigo",foreground:"white"}}},set(a){}});return(a,i)=>(c(),O("svg",{fill:p(t).background,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 296.477 296.477","xml:space":"preserve",height:"50"},[o("title",re,"Chip Value "+H(e.chipValue),1),e.chipValue?(c(),O("g",ue,[o("circle",{cx:"148.2385",cy:"148.2385",r:"148.2385",fill:p(t).foreground},null,8,oe),ce,o("text",{x:"50%",y:"50%","text-anchor":"middle",fill:p(t).foreground,style:{font:"bold 5em sans-serif"},dy:".35em"},H(e.chipValue),9,ie)])):C("",!0)],8,le))}}),de=F({__name:"BetBoxNew",props:{modelValue:{type:Object,required:!0},increment:{type:Number,default:1}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,a=q({get(){return t.modelValue},set(f){return l("update:modelValue",f)}}),i=()=>{if(!a.value.canIncrease())return;const f=I.table.bet_min;a.value.wager=Math.max(f,a.value.wager+t.increment)},d=()=>{"odds"in a.value&&(a.value.odds=Math.min(a.value.maxOdds(),a.value.odds+t.increment))},y=()=>{a.value.wager=Math.max(0,a.value.wager-t.increment);const f=I.table.bet_min;f&&a.value.wager<f&&(a.value.wager=0),"odds"in a.value&&(a.value.odds=Math.min(a.value.maxOdds(),a.value.odds))},N=()=>{"odds"in a.value&&(a.value.odds=Math.max(0,a.value.odds-t.increment))};return(f,v)=>(c(),O("div",{class:Z(["bet-box",p(a).getOptions().hasOdds?"withOdds":"withoutOdds"])},["wager"in p(a)?(c(),B(S,{key:0,onClick:A(i,["prevent"]),onContextmenu:A(y,["prevent"]),class:"wager","chip-value":p(a).wager},null,8,["onClick","onContextmenu","chip-value"])):C("",!0),"odds"in p(a)?(c(),B(S,{key:1,onClick:A(d,["prevent"]),onContextmenu:A(N,["prevent"]),class:"wager odds","chip-value":p(a).odds},null,8,["onClick","onContextmenu","chip-value"])):C("",!0)],2))}});const L=z(de,[["__scopeId","data-v-41269a68"]]);var n=(e=>(e.ANY_CRAPS="AnyCraps",e.ANY_SEVEN="AnySeven",e.BUY="Buy",e.C_AND_E="CE",e.COME="Come",e.CRAPS_3_WAY="Craps3Way",e.DONT_COME="DontCome",e.DONT_PASS="DontPass",e.FIELD="Field",e.HARDWAY="Hardway",e.HOP="Hop",e.HORN="Horn",e.HORN_HIGH="HornHigh",e.LAY="Lay",e.PASS_LINE="PassLine",e.PLACE="Place",e.PUT="Put",e.WORLD="World",e))(n||{});const me={2:6,3:3,4:2,5:3/2,6:6/5,8:6/5,9:3/2,10:2,11:3,12:6},K={[n.ANY_CRAPS]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.ANY_SEVEN]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.BUY]:{hasOdds:!1,allowOverride:!0,hasPlacement:!0,hasVig:!0},[n.C_AND_E]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.COME]:{hasOdds:!0,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.CRAPS_3_WAY]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.DONT_COME]:{hasOdds:!0,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.DONT_PASS]:{hasOdds:!0,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.FIELD]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.HARDWAY]:{hasOdds:!1,allowOverride:!0,hasPlacement:!0,hasVig:!1},[n.HOP]:{hasOdds:!1,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.HORN]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1},[n.HORN_HIGH]:{hasOdds:!1,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.LAY]:{hasOdds:!1,allowOverride:!1,hasPlacement:!0,hasVig:!0},[n.PASS_LINE]:{hasOdds:!0,allowOverride:!1,hasPlacement:!0,hasVig:!1},[n.PLACE]:{hasOdds:!1,allowOverride:!0,hasPlacement:!0,hasVig:!1},[n.PUT]:{hasOdds:!0,allowOverride:!0,hasPlacement:!0,hasVig:!1},[n.WORLD]:{hasOdds:!1,allowOverride:!1,hasPlacement:!1,hasVig:!1}},u=function(){return K[this.type]},Q=function(){if(this.placement!==void 0&&this.wager!==void 0){const e=this.placement,a=I.table.maxOdds[e],i=this.wager;return Math.floor(a*i)}return 0},pe=function(){if(typeof this.placement!="number"||this.wager===void 0)return 0;const e=Q.bind(this)();console.log(e);const l=me[this.placement];return Math.floor(e*l)},M={[n.ANY_CRAPS]:{getOptions:u,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.ANY_SEVEN]:{getOptions:u,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.BUY]:{getOptions:u,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.C_AND_E]:{getOptions:u,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.COME]:{getOptions:u,canIncrease(){return!0},canDecrease(){return this.placement===null},canRemove(){return this.placement===null}},[n.CRAPS_3_WAY]:{getOptions:u,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.DONT_COME]:{getOptions:u,canIncrease(){return this.placement===null},canDecrease(){return!0},canRemove(){return!0}},[n.DONT_PASS]:{getOptions:u,canIncrease(){return this.placement===null},canDecrease(){return!0},canRemove(){return!0}},[n.FIELD]:{getOptions:u,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.HARDWAY]:{getOptions:u,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.HOP]:{getOptions:u,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.HORN]:{getOptions:u,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.HORN_HIGH]:{getOptions:u,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.LAY]:{getOptions:u,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.PASS_LINE]:{getOptions:u,canIncrease(){return!0},canDecrease(){return this.placement===null},canRemove(){return this.placement===null}},[n.PLACE]:{getOptions:u,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}},[n.PUT]:{getOptions:u,canIncrease(){return!0},canDecrease(){return this.placement===null},canRemove(){return this.placement===null}},[n.WORLD]:{getOptions:u,canIncrease(){return!0},canDecrease(){return!0},canRemove(){return!0}}};function E(e,l,t=null){const a=e.filter(i=>i.type===l);return K[l].hasPlacement?a.filter(i=>"placement"in i&&i.placement===t).pop():a.pop()}const fe={class:"CrapsBox"},ve={class:"name-box full-box"},ge={key:0,alt:"ON",class:"puck",src:ne},he=F({__name:"CrapsBox",props:{boxNumber:{type:Number,required:!0},maxOdds:{type:Number,default:0},minBet:{type:Number,default:0},increment:{type:Number,default:1},buyAllowed:{type:Boolean,default:!1},initialBets:{type:Array,default(){return[]}}},setup(e,{expose:l}){const t=e,a=function(){let x=[];return g.value.wager&&x.push(g.value),s.value.wager&&x.push(s.value),r.value.wager&&x.push(r.value),_.value.wager&&x.push(_.value),P.value.wager&&x.push(P.value),x},i={type:n.DONT_COME,...M[n.DONT_COME],maxOdds:pe,wager:0,odds:0,placement:t.boxNumber},d={type:n.LAY,...M[n.LAY],wager:0,placement:t.boxNumber},y={type:n.COME,...M[n.COME],maxOdds:Q,wager:0,odds:0,placement:t.boxNumber},N={type:n.PLACE,...M[n.PLACE],wager:0,placement:t.boxNumber,override_puck:null},f={type:n.BUY,...M[n.BUY],wager:0,placement:t.boxNumber,override_puck:null},v=E(t.initialBets,n.DONT_COME,t.boxNumber)??{},w=E(t.initialBets,n.LAY,t.boxNumber)??{},Y=E(t.initialBets,n.COME,t.boxNumber)??{},U=E(t.initialBets,n.PLACE,t.boxNumber)??{},$=E(t.initialBets,n.BUY,t.boxNumber)??{},P=m(Object.assign(i,v)),_=m(Object.assign(d,w)),r=m(Object.assign(y,Y)),s=m(Object.assign(N,U)),g=m(Object.assign(f,$));return l({getBets:a}),(x,b)=>(c(),O("div",fe,[h(L,{modelValue:P.value,"onUpdate:modelValue":b[0]||(b[0]=V=>P.value=V),increment:e.increment,class:"full-box"},null,8,["modelValue","increment"]),h(L,{modelValue:_.value,"onUpdate:modelValue":b[1]||(b[1]=V=>_.value=V),increment:e.increment,class:"full-box"},null,8,["modelValue","increment"]),o("div",ve,[k(H(e.boxNumber===6?"Six":e.boxNumber===9?"Nine":e.boxNumber)+" ",1),p(I).puck_location===t.boxNumber?(c(),O("img",ge)):C("",!0)]),h(L,{modelValue:r.value,"onUpdate:modelValue":b[2]||(b[2]=V=>r.value=V),increment:e.increment,class:"full-box"},null,8,["modelValue","increment"]),h(L,{modelValue:s.value,"onUpdate:modelValue":b[3]||(b[3]=V=>s.value=V),increment:e.increment,class:"half-box"},null,8,["modelValue","increment"]),e.buyAllowed?(c(),B(L,{key:0,modelValue:g.value,"onUpdate:modelValue":b[4]||(b[4]=V=>g.value=V),increment:e.increment,class:"half-box"},null,8,["modelValue","increment"])):C("",!0)]))}});const Oe=z(he,[["__scopeId","data-v-e9d7c1bc"]]);const _e=["onClick","onContextmenu"],be={key:0,class:"name"},xe={__name:"BetBox",props:{modelValue:{type:Number,default:0},max:{type:Number,default:1/0},min:{type:Number,default:0},increment:{type:Number,default:1},locked:{type:Boolean,default:!1},noDecrease:{type:Boolean,default:!1},noIncrease:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,a=()=>{t.locked||t.noIncrease||l("update:modelValue",Math.min(t.max,Math.max(t.min,t.modelValue+t.increment)))},i=()=>{if(t.locked||t.noDecrease)return;let d=Math.max(0,t.modelValue-t.increment);t.min&&d<t.min&&(d=0),l("update:modelValue",d)};return T(()=>t.max,d=>{d<t.modelValue&&l("update:modelValue",Math.min(d.valueOf(),t.modelValue))}),(d,y)=>(c(),O("div",{class:"bet-box",onClick:A(a,["prevent"]),onContextmenu:A(i,["prevent"])},[d.$slots.default?(c(),O("span",be,[ee(d.$slots,"default",{},void 0,!0)])):C("",!0),e.modelValue?(c(),B(S,{key:1,class:"wager","chip-value":e.modelValue},null,8,["chip-value"])):C("",!0)],40,_e))}},D=z(xe,[["__scopeId","data-v-595ba960"]]);const Ve={class:"crapsTable"},we={class:"dont-come"},Ce=o("span",null,"Don't",-1),ye=o("span",null,"Come",-1),Ne=o("span",null,"Bar",-1),Pe=o("span",null,"12",-1),De={class:"puckBox"},ke={key:0,src:te,alt:"OFF",class:"puck"},Ae=o("div",{class:"props-box"},null,-1),Be={class:"props-box"},Re={class:"self-serve"},Le={class:"bet-select"},Ee={__name:"CrapsView",setup(e){const l=m([]),t=m(0),a=m(0),i=m(0),d=m(0),y=m(0),N=m(0),f=J(),v=m(1),w=5,Y={maxOdds:se(2)},U=JSON.parse('{"new_table":{"config":{},"puck_location":4,"existing_bets":[{"type":"PassLine","wager":5,"placement":4},{"type":"DontCome","wager":5,"placement":6,"odds":10},{"type":"Place","wager":5,"placement":4},{"type":"Place","wager":5,"placement":5},{"type":"Place","wager":6,"placement":6,"override_puck":"OFF"},{"type":"Place","wager":6,"placement":8},{"type":"Place","wager":5,"placement":9},{"type":"Place","wager":5,"placement":10},{"type":"Hop","wager":1,"placement":[1,3]},{"type":"AnySeven","wager":1}]}}'),$=function(_){v.value=_},P=function(){let _=[];for(const r in l.value)_.push(...l.value[r].getBets());console.log(_)};return(_,r)=>(c(),O(W,null,[o("div",Ve,[(c(!0),O(W,null,G(Y.maxOdds,(s,g)=>(c(),B(Oe,{key:g,increment:v.value,"max-odds":s,"min-bet":[6,8].includes(Number(g))?w/5*6:w,"box-number":Number(g),"buy-allowed":[4,10].includes(Number(g)),"initial-bets":p(U).new_table.existing_bets.filter(x=>x.placement===Number(g)),ref_for:!0,ref_key:"boxes",ref:l},null,8,["increment","max-odds","min-bet","box-number","buy-allowed","initial-bets"]))),128)),o("div",we,[Ce,ye,Ne,Pe,o("div",De,[p(I).puck_location===null?(c(),O("img",ke)):C("",!0)])]),Ae,o("div",Be,[h(S,{"chip-value":"62",height:"50px"})]),o("div",Re,[h(D,{increment:v.value,modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=s=>t.value=s),min:w,style:{"grid-column":"col / span 2"},name:"comeLine"},{default:R(()=>[k("Come")]),_:1},8,["increment","modelValue"]),h(D,{increment:v.value,modelValue:a.value,"onUpdate:modelValue":r[1]||(r[1]=s=>a.value=s),min:w,style:{"grid-column":"col / span 2"},name:"fieldLine"},{default:R(()=>[k("Field")]),_:1},8,["increment","modelValue"]),h(D,{increment:v.value,modelValue:i.value,"onUpdate:modelValue":r[2]||(r[2]=s=>i.value=s),min:w,name:"dontLine",style:{}},{default:R(()=>[k("Don't Pass Bar 12")]),_:1},8,["increment","modelValue"]),h(D,{increment:v.value,modelValue:d.value,"onUpdate:modelValue":r[3]||(r[3]=s=>d.value=s),name:"dontLineOdds",locked:""},null,8,["increment","modelValue"]),h(D,{increment:v.value,modelValue:y.value,"onUpdate:modelValue":r[4]||(r[4]=s=>y.value=s),min:w,name:"passLine"},{default:R(()=>[k("Pass")]),_:1},8,["increment","modelValue"]),h(D,{increment:v.value,modelValue:N.value,"onUpdate:modelValue":r[5]||(r[5]=s=>N.value=s),name:"passLineOdds",locked:""},null,8,["increment","modelValue"])])]),o("ul",Le,[(c(!0),O(W,null,G(p(f),s=>(c(),B(S,{key:s,onClick:g=>$(s),"chip-value":s,height:"50px"},{default:R(()=>[k(H(s),1)]),_:2},1032,["onClick","chip-value"]))),128))]),o("button",{onClick:P},"Test")],64))}};export{Ee as default};
